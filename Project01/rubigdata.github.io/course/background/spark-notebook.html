

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Spark Notebook</title>
    
    <meta name="author" content="Arjen P. de Vries">

    <!-- New stuff, copied from http://www.w3schools.com/bootstrap -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!--  Use newer bootstrap? If so, go here:
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
-->
    <link href="https://rubigdata.github.io/course/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="https://rubigdata.github.io/course/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="https://rubigdata.github.io/course/assets/themes/twitter/css/kbroman.css" rel="stylesheet" type="text/css" media="all">
    <link href="https://rubigdata.github.io/course/assets/themes/twitter/css/arjenpdevries.css" rel="stylesheet" type="text/css" media="all">

    <!-- atom & rss feed -->
    <link href="https://rubigdata.github.io/coursenil" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="https://rubigdata.github.io/coursenil" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="https://rubigdata.github.io/course">RU Big Data 2019 (NWI-IBC036)</a>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        

<div class="page-header">
  <h2>Spark Notebook  <small>How to use the Spark Notebook in Huygens or your own device</small></h2>
</div>

<div class="row-fluid">
  <div class="span12">
    <h1 id="spark-notebook">Spark Notebook</h1>

<h2 id="create-and-start-a-container">Create and start a container</h2>

<p>We pull the courseâ€™s <code class="language-plaintext highlighter-rouge">rubigdata/hadoop</code> image and create a container using that image:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull rubigdata/hadoop 
docker create --name snb -p 9000:9000 -p 4040-4045:4040-4045 rubigdata/hadoop
</code></pre></div></div>

<p>The port options tell docker to map exposed ports 4040-4045 and port 9000 to the same ports on your local network interface.
The name option is handy for the course instructions, but do remember that container names have to be unique; if you later
decide to create another container, e.g. with additional options, you will need a different name, and start/stop the container
using that name. If you leave out a name, docker generates one for you.</p>

<p>You can start and stop the container you created; now start it to continue work on your lab session:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start snb
</code></pre></div></div>

<p>Now open <a href="http://localhost:9000/">localhost:9000</a> in your browser to access the Spark Notebook.</p>

<p>As always, you can execute a shell inside the running container:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker exec -it snb /bin/bash
</code></pre></div></div>

<h2 id="mounting-directories-advanced">Mounting directories (advanced)</h2>

<p><em>This may not work in Huygens due to security considerations:</em></p>

<p>If your host system supports this, you can mount a directory such that it is shared between the container and the host.
E.g., starting a new container using <code class="language-plaintext highlighter-rouge">docker run</code> (you can also use separate <code class="language-plaintext highlighter-rouge">create</code> and <code class="language-plaintext highlighter-rouge">start</code>/<code class="language-plaintext highlighter-rouge">stop</code> as above):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -p 9000:9000 -p 4040-4045:4040-4045 -v ${HOME}/tmp:/data -d rubigdata/hadoop
</code></pre></div></div>

<p>Starting docker this way, you can read and write files in <code class="language-plaintext highlighter-rouge">/data</code> in the container and access them from <code class="language-plaintext highlighter-rouge">tmp</code> in your home directory.
If you use SELinux on your own laptop, you may need to add <code class="language-plaintext highlighter-rouge">:z</code> as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -p 9000:9000 -p 4040-4045:4040-4045 -v ${HOME}/tmp:/data:z -d rubigdata/hadoop
</code></pre></div></div>

<h2 id="need-help">Need help?</h2>

<p>For more information about the Spark Notebook environment, you may refer to the 
<a href="https://github.com/spark-notebook/spark-notebook/blob/master/docs/index.md">Spark Notebook documentation</a>,
e.g. glance over the <a href="https://github.com/spark-notebook/spark-notebook/blob/master/docs/exploring_notebook.md">brief intro to Spark and the UI</a>.</p>

<p>Use the github issue tracker on <a href="https://github.com/rubigdata/forum-2020/">the forum</a> so every one 
in class can help out and my overflowing email box is not a bottleneck for <em>your</em> progress.
See also: <a href="https://github.com/rubigdata/forum-2020/issues/1">FAQ</a></p>

<p>Back to <a href="../assignments/">Assignments overview</a></p>


  </div>
</div>


      </div>
      <hr>
      <footer>
        <p><small>
  <!-- start of footer -->
          <a href="https://arjenp.dev/">Arjen P. de Vries</a>
  <!-- end of footer -->
        </small></p>
      </footer>

    </div>

    
  </body>
</html>

