

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Stream Processing</title>
    <meta name="description" content="Use the Spark Streaming API to perform real time data analysis.">
    <meta name="author" content="Arjen P. de Vries">

    <!-- New stuff, copied from http://www.w3schools.com/bootstrap -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!--  Use newer bootstrap? If so, go here:
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
-->
    <link href="https://rubigdata.github.io/course/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="https://rubigdata.github.io/course/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="https://rubigdata.github.io/course/assets/themes/twitter/css/kbroman.css" rel="stylesheet" type="text/css" media="all">
    <link href="https://rubigdata.github.io/course/assets/themes/twitter/css/arjenpdevries.css" rel="stylesheet" type="text/css" media="all">

    <!-- atom & rss feed -->
    <link href="https://rubigdata.github.io/coursenil" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="https://rubigdata.github.io/coursenil" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="https://rubigdata.github.io/course">RU Big Data 2019 (NWI-IBC036)</a>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        

<div class="page-header">
  <h2>Stream Processing  <small>Hands-on session with Spark Structured Streaming</small></h2>
</div>

<div class="row-fluid">
  <div class="span12">
    <p>For this individual assignment, you analyze a continuous stream of data using Sparkâ€™s new Structured Streaming API,
and write a blog post about your experience.</p>

<h3 id="getting-started">Getting started</h3>

<ol>
  <li>
    <p>Accept the assignment at <a href="https://classroom.github.com/a/P3Bu5058">github classroom, assignment A5</a>.</p>
  </li>
  <li>Get the image from dockerhub *), create a container and start it:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> docker pull rubigdata/zeppelin:v0.9.0
 docker create --name snbz -p 9001:8080 -p 4040-4045:4040-4045 zeppelin:v0.9.0
 docker start snbz
</code></pre></div>    </div>
  </li>
  <li>Open <a href="http://localhost:9001">localhost:9001</a> in the web browser. (And start a tunnel when working from Huygens.)</li>
</ol>

<p>*) If you have a smaller computer w.r.t. memory or disk (say, you work on the Huygens PCs) and are feeling adventurous, 
you can also use a <em>new experimental image</em> we prepared; in step 2., do <code class="language-plaintext highlighter-rouge">docker pull rubigdata/ballon:v0.9.0</code> instead.</p>

<p><em>One more thing: do not map port 8080 to port 9000, that triggers a special mode in Zeppelin that is hard to use.</em></p>

<h3 id="update-to-streampy">Update to <code class="language-plaintext highlighter-rouge">stream.py</code></h3>

<p>You can download an <a href="/course/assignments/stream.py">updated <code class="language-plaintext highlighter-rouge">stream.py</code></a> that addresses <a href="https://github.com/rubigdata/forum-2020/issues/24">issue #24</a>.
Using this new version, you can have multiple Spark Streaming queries attached to the same source.</p>

<h3 id="original-instructions">Original instructions</h3>

<p>Due to problems with pushing images to Dockerhub, I had to resort to the backup solution of having you build your own image.
The original instructions are still included, to avoid confusion. Please continue to read at <strong>Blog Post</strong> if you are all set
with the instruction above.</p>

<p>Clone the assignment repository, and follow the instructions in the file <code class="language-plaintext highlighter-rouge">zeppelin.md</code> to build a new docker image <code class="language-plaintext highlighter-rouge">hadoop:devel</code>, 
create a container from this image that is named <code class="language-plaintext highlighter-rouge">snbz</code> (for <code class="language-plaintext highlighter-rouge">snb</code> Zeppelin), and import the Zeppelin notebook through the Web UI.</p>

<p>Very brief recap:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:rubigdata/sparkling-streams-2020-USERNAME.git
cd sparkling-streams-2020-USERNAME
docker build -t hadoop:devel .
docker create --name snbz -p 9001:8080 -p 4040-4045:4040-4045 hadoop:devel
docker start snbz
</code></pre></div></div>

<p>If all steps succeeded, open <a href="http://localhost:9001">localhost:9001</a> in the web browser.
(Working from Huygens requires tunnelling the ports you need.)</p>

<p>You find detailed instructions for the assignment in the notebook.</p>

<h3 id="blog-post">Blog Post</h3>

<p>You will write a blogpost that addresses at least the following points:</p>

<ul>
  <li>What did you find easy or difficult about the assignment/the Spark Structured Streaming API</li>
  <li>The questions found in the notebook</li>
  <li>The code you wrote to do some analysis task at the end of the notebook and a brief explanation</li>
</ul>

<p>Checkin your code in the assignment repo. Your blog post should posted on your main blog, as before, and entered in PeerGrade to start
the peer review process (see Brightspace).</p>

<p>Happy Hacking!</p>

<p><a href="../index.html">Back to assignments overview</a></p>

  </div>
</div>


      </div>
      <hr>
      <footer>
        <p><small>
  <!-- start of footer -->
          <a href="https://arjenp.dev/">Arjen P. de Vries</a>
  <!-- end of footer -->
        </small></p>
      </footer>

    </div>

    
  </body>
</html>

